<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Assistant | Naawi-Oodena</title>
    <link rel="icon" href="Images/icon2.png" type="image/png" />
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script defer src="scrollbar.js"></script>
    <link rel="stylesheet" href="CSS/stylesheets.css" />

    <style>
      /* Style for the body element i.e. <body> */
      body {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
      }

      /* dot (.) sign reflects class attribute  */
      /* hash (#) sign reflects id attribute  */

      /* style of the elements with class name = "particles" */
      .particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
      }

      /* style of the elements with class name = "particle" */
      .particle {
        position: absolute;
        background-color: rgba(0, 0, 0, 0.048); /* Change the particle color */
        border-radius: 50%;
        pointer-events: none;
        animation: moveParticle linear infinite;
      }

      /* apply this animation on particle */
      @keyframes moveParticle {
        0% {
          transform: translate(0, 0);
          /* transform the particle to 0,0 on initial 0% */
        }
        100% {
          transform: translate(100vw, 100vh);
          /* transform the particle to 100 vertical width, 100 vertical height on  100% of animation */
        }
      }

      /* style of an element with id = "chat-container" */
      #chat-container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 800px;
        background-color: #fff;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        overflow: hidden;
      }

      /* style of an element with id = "chat-messages" */
      #chat-messages {
        padding: 10px;
        max-height: 300px;
        overflow-y: auto;
      }

      /* style of an element with id = "user-input" */
      #user-input {
        width: calc(100% - 20px);
        padding: 10px;
        box-sizing: border-box;
        margin: 10px;
        border: 1px solid #ccc;
        border-radius: 8rem;
      }

      /* style of an element with id = "suggestion-list" */
      #suggestion-list {
        background-color: #fff;

        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        max-height: 100px;
        overflow-y: auto;
        padding-top: 10px;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin-top: 10px; /* Add margin to create space between the chat container and suggestion list */

        padding-bottom: 15px;
      }

      /* style of all li inside the element with id = "suggestion-list" */
      #suggestion-list li {
        cursor: pointer;
        padding: 5px;

        border-radius: 3px;
        margin-bottom: 5px;
      }

      /* style of all li when mouse is over it but the li must be inside the element  with id = "suggestion-list" */

      #suggestion-list li:hover {
        background-color: #f0f0f0;
      }

      /* style of the elements with class name = "suggestion" */

      .suggestion {
        border-radius: 2rem;
        padding: 8px;
        cursor: pointer;
        transition: all 0.13s;
      }

      /* style of an element when mouse is over it with class name = "suggestion" */
      .suggestion:hover {
        border-radius: 8rem;
        background-color: #ee6352; /* Red color for the hover effect */
        color: #fff; /* White text color for better visibility */
      }

      /* style of the elements with class name = "bot-label" */
      .bot-label {
        margin: 0 8px; /* Adjust the margin as needed */
      }

      /* style of the elements with class name = "topic-container" */
      .topic-container {
        text-align: center;
        margin-bottom: 10px; /* Adjust the margin as needed */
        font-weight: bold;
        color: #666;
      }

      /* Adjust the styles for AI messages and the bot image */
      .message-container.ai p {
        background: linear-gradient(to bottom, #ee6352, #ff4027);
        color: #fff;
        border-radius: 8px;
        padding: 8px;
        text-align: left;
      }

      /* style of the elements with class name = "bot-image" */
      .bot-image {
        width: 20px; /* Adjust the width as needed */
        height: 20px; /* Adjust the height as needed */
        margin-right: 8px; /* Adjust the margin as needed */
      }

      /* style of an element with id = "centerize" */
      #centerize {
        text-align: center;
      }

      /* style of the elements with class name = "topic-containerHot" */
      .topic-containerHot {
        padding-top: 31rem;
        text-align: center;
        list-style: none;
      }

      /* style of h3 tags inside the element with class name = "topic-containerHot" */
      .topic-containerHot h3 {
        text-align: center;
      }

      /* style of li tags inside the element with class name = "topic-containerHot" */
      .topic-containerHot li {
        text-align: center;
        margin-left: 39%;
        width: 20%;
        margin-top: 0.3%;
        padding-top: 0.25rem;
        padding-bottom: 0.25rem;
        list-style: none;
        color: #000000;
        font-weight: 600;
        background-color: #ececec;
        border-radius: 1rem;
      }

      /* style of an element = "canvas" */
      canvas {
        position: fixed;
        top: 0;
        left: 0;
        z-index: -100;
      }

      /* style of an element with id = "cursor" */
      #cursor {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background-color: #000000;
        position: absolute;
        pointer-events: none; /* Prevent the cursor from interfering with other elements */
        transform: translate(-34%, -10%);
        z-index: 34934954;
      }

      /* style of the elements with class name = "ripple" */
      .ripple {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color: rgba(0, 0, 0, 0.5);
        position: absolute;
        animation: rippleAnimation 0.2s ease-in-out; /* rippleAnimation define below: ease-in-out with 0.2 seconds */
        z-index: 239994394;
      }

      /* keyframes animation named "rippleAnimation"  */
      @keyframes rippleAnimation {
        /* animation endpoint */
        to {
          transform: scale(12);
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <div id="cursor"></div>
    <nav>
      <!-- Navigation Container -->
      <div class="heading" id="myHeader">
        <!-- Header Section -->
        <div class="navbar">
          <!-- Navbar Container -->

          <!-- Logo -->
          <a href="index.html"
            ><img src="Images/Logo2.png" class="logo" alt="Naawi Oodena Logo"
          /></a>

          <!-- Navigation Links -->
          <ul class="links">
            <!-- Home Link -->
            <li>
              <a href="index.html">
                <img
                  class="linkIcon"
                  src="Images/public_FILL1_wght400_GRAD0_opsz24.png"
                  alt="Home Page" />
                <span class="spanText">HOME</span>
              </a>
            </li>

            <!-- Living Link -->
            <li>
              <a href="life.html">
                <img
                  class="linkIcon"
                  src="Images/home_FILL1_wght400_GRAD0_opsz24.png"
                  alt="Living Page" />
                <span class="spanText">LIVING</span>
              </a>
            </li>

            <!-- Contact Link -->
            <li>
              <a href="contact-us.html">
                <img
                  class="linkIcon"
                  src="Images/call_FILL1_wght400_GRAD0_opsz24.png"
                  alt="Contact Support Page" />
                <span class="spanText">CONTACT</span>
              </a>
            </li>

            <!-- Assistant Link -->
            <li>
              <a href="chatbot.html">
                <img
                  class="linkIcon"
                  src="Images/download (1).png"
                  alt="Assistant Page" />
                <span class="spanText" style="color: #ee6352">ASSISTANT</span>
              </a>
            </li>

            <!-- Media Link -->
            <li>
              <a href="list.html">
                <img
                  class="linkIcon"
                  src="Images/videocam_FILL1_wght400_GRAD0_opsz24.png"
                  alt="Video List Page" />
                <span class="spanText">MEDIA</span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <canvas id="trianglesCanvas"></canvas>
    <main>
      <section>
        <h2 id="centerize">Ask us Questions!</h2>
      </section>
      <section>
        <div id="chat-container">
          <div id="chat-messages"></div>
          <input
            type="text"
            id="user-input"
            placeholder="Start off by typing Naawi..."
            onkeydown="handleUserInput(event)" />
          <div id="suggestion-list"></div>
        </div>
      </section>
      <div class="padding-block2"></div>
    </main>
    <div class="contentInformation">
      <footer>
        <div class="footer-container">
          <div class="contact-info">
            <h4>Contact Information</h4>
            <p>Email: inquiries@treaty1.ca</p>
            <p>Phone: +1 204-783-3110</p>
            <p>
              Office: 103 -1075 Portage Avenue | Winnipeg, Manitoba, R3G 0R8
            </p>
            <!-- Add more contact details if needed -->
          </div>
          <div class="additional-info">
            <h4>Additional Information</h4>
            <p>
              Si vous souhaitez recevoir ces documents en français, veuillez
              envoyer un courriel à info@clc.ca et nous nous ferons un plaisir
              de vous les faire parvenir.
            </p>
            <!-- Add more additional information if needed -->
          </div>
        </div>
      </footer>
    </div>
    <div class="padding-block"></div>
    <div class="loading-screen" id="loadingScreen">
      <div class="loading-spinner"></div>
    </div>

    <script src="chatbot.js"></script>

    <script src="loading.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // on load run the block of code below
        var cursor = document.getElementById("cursor"); // get element with id "cursor"
        var body = document.body; // get body element of the page

        document.addEventListener("mousemove", function (e) {
          // run the block of code when mousemove
          var x = e.clientX; // get x coordinate position
          var y = e.clientY; // get y coordinate position

          var scrollX = window.scrollX || window.pageXOffset; // window.scrollX = number of pixels the document is currently scrolled horizontally  // window.pageXOffset = same as window.scrollx but cross-browser compatibility for pageXOffset better  than scrollX
          var scrollY = window.scrollY || window.pageYOffset; // window.scrollY = number of pixels the document is currently scrolled vertically  // window.pageYOffset = same as window.scrolly but cross-browser compatibility for pageyOffset better  than scrolly

          cursor.style.left = x + scrollX + "px"; // set the left of cursor div when mousemove, hence the cursor div (round dot) move with mouse pointer
          cursor.style.top = y + scrollY + "px"; // set the top of cursor div when mousemove, hence the cursor div (round dot) move with mouse pointer
        });

        body.addEventListener("click", function (e) {
          // on click of body element
          createRipple(e.clientX, e.clientY); // call the function createRipple with parameter of horizontal and vertical coordinate
        });

        function createRipple(x, y) {
          var ripple = document.createElement("div"); // create a div element
          ripple.className = "ripple"; // set class name of div to ripple
          ripple.style.left = x + window.scrollX + "px"; // set left property
          ripple.style.top = y + window.scrollY + "px"; // set right property
          body.appendChild(ripple); // append the ripple div to body element

          ripple.addEventListener("animationend", function () {
            ripple.remove(); // when animation of ripple ends, then remove the ripple div
          });
        }
      });
    </script>

    <script>
      const canvas = document.getElementById("trianglesCanvas"); // get element with id "trianglesCanvas"
      const ctx = canvas.getContext("2d"); // Get the 2D rendering context of the canvas
      const numberOfTriangles = 50; //number of triangles to be generated
      const triangles = [];

      function init() {
        // Set the width and height of the canvas to match the window dimensions
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Generate random parameters for each triangle and store them in the 'triangles' array
        for (let i = 0; i < numberOfTriangles; i++) {
          triangles.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            size: Math.random() * 20 + 10,
            speed: Math.random() * 0.3,
            angle: Math.random() * 360,
          });
        }

        animate(); // call animate function
      }

      function drawTriangle(x, y, size, angle) {
        ctx.save(); // Save the current state of the drawing context
        ctx.translate(x, y); // set the origin of the canvas to the (x, y) position
        ctx.rotate((angle * Math.PI) / 180); // Rotate the canvas
        ctx.beginPath(); // begin a path
        ctx.moveTo(0, -size / 2); // Move the drawing point
        ctx.lineTo(size / 2, size / 2); // Draw a line
        ctx.lineTo(-size / 2, size / 2); // Draw a line
        ctx.closePath(); // close the path
        ctx.fillStyle = "rgba(0, 0, 0, .06)"; // fill color
        ctx.fill(); // fill with above color
        ctx.restore(); // restore to save state
      }

      function animate() {
        // Clear the canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // loop through each triangle in the 'triangles' array
        triangles.forEach((triangle) => {
          triangle.x += triangle.speed;
          // Check if the triangle moved off the right edge of the canvas
          if (triangle.x - triangle.size / 2 > canvas.width) {
            triangle.x = -triangle.size / 2;
          }

          triangle.angle += triangle.speed;

          // Draw the updated triangle
          drawTriangle(triangle.x, triangle.y, triangle.size, triangle.angle);
        });

        requestAnimationFrame(animate); // call function
      }

      window.addEventListener("resize", () => {
        // on resize event call init() function
        init();
      });

      init();
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // on load run the block of code below
        // Function to handle fading and bubbling elements into view
        function handleIntersection(entries, observer) {
          entries.forEach((entry) => {
            // for each of the entries loop the block of code
            if (entry.isIntersecting) {
              // indicates whether intersectionRatio is greater than (or equal to) a threshold value or lesser than one
              entry.target.classList.add(
                "animate__animated",
                "animate__fadeInUp"
              ); // add move class names
              observer.unobserve(entry.target);
            }
          });
        }

        // Set up the Intersection Observer
        const observer = new IntersectionObserver(handleIntersection, {
          threshold: 0.2, // Adjust the threshold as needed
        });

        // Get all elements with the class "contentInformation"
        const contentElements = document.querySelectorAll(
          ".contentInformation"
        );

        // Observe each content element
        contentElements.forEach((element) => {
          observer.observe(element);
        });
      });
    </script>
  </body>

  <script>
    // Get the URL parameters
    const urlParams = new URLSearchParams(window.location.search);
    const promptParam = urlParams.get("prompt"); // get the prompt parameter from url

    // Set the initial prompt in your chatbot input
    const userInput = document.getElementById("user-input"); // get  element with id "user-input"
    userInput.value = promptParam || ""; // Set the prompt if available

    // Trigger any logic to handle the initial prompt if needed
    handleUserInput({ key: "Enter" }); // Simulate Enter key press to process the prompt
  </script>

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <style>
    /* Add this style to control the initial state and the fade-in effect */
    .contentInformation {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.3s ease-in, transform 0.3s ease-in;
    }

    .contentInformation.fade-in {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</html>
